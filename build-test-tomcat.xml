<?xml version="1.0"?>

<project name="portal-test-tomcat" basedir="." default="test" xmlns:antelope="antlib:ise.antelope.tasks">
	<import file="build-test.xml" />

	<target name="test-tomcat-6.0-common">
		<ant antfile="build-dist.xml" target="build-dist-tomcat-6.0" />

		<antcall target="revert-test-properties" />

		<antcall target="start-selenium" />

		<antcall target="run-tomcat-6.0">
			<param name="test.class" value="PortalWebTestSuite" />
		</antcall>

		<antcall target="run-tomcat-6.0">
			<param name="test.class" value="ControlPanelTestSuite" />
		</antcall>

		<antcall target="run-tomcat-6.0">
			<param name="test.class" value="PermissionsTestSuite" />
		</antcall>

		<antcall target="run-tomcat-6.0">
			<param name="test.class" value="Plugins1TestSuite" />
			<param name="portlet.plugins.includes" value="alfresco-content-portlet,analog-clock-portlet,chat-portlet,flash-portlet,google-adsense-portlet,google-gadget-portlet,google-maps-portlet,google-search-portlet,ip-geocoder-portlet,mail-portlet,release-tools-portlet,ruby-console-portlet,sample-dao-portlet,sample-groovy-portlet,sample-hibernate-portlet,sample-icefaces-ipc-ajax-push-portlet,sample-icefaces-jsf-1.1-myfaces-jsp-portlet,sample-icefaces-jsf-1.1-sun-facelets-portlet,sample-icefaces-jsf-1.1-sun-jsp-portlet,sample-icefaces-jsf-1.2-sun-facelets-portlet,sample-javascript-portlet,sample-jsf-1.1-myfaces-facelets-portlet,sample-jsf-1.1-myfaces-jsp-portlet,sample-jsf-1.1-sun-facelets-portlet,sample-jsf-1.1-sun-jsp-portlet,sample-jsf-1.2-sun-facelets-portlet,sample-jsf-1.2-sun-jsp-portlet,sample-json-portlet,sample-jsp-portlet,sample-lar-portlet,sample-laszlo-portlet" />
		</antcall>

		<antcall target="run-tomcat-6.0">
			<param name="test.class" value="Plugins2TestSuite" />
			<param name="portlet.plugins.includes" value="sample-localized-portlet,sample-orbeon-forms-portlet,sample-permissions-portlet,sample-php-portlet,sample-portal-client-portlet,sample-portal-service-portlet,sample-python-portlet,sample-ruby-portlet,sample-search-container-portlet,sample-service-builder-portlet,sample-sign-in-portlet,sample-spring-portlet,sample-struts-liferay-portlet,sample-struts-portlet,sample-tapestry-portlet,sample-test-dependency-able-portlet,sample-test-dependency-baker-portlet,sample-test-dependency-charlie-portlet,sample-test-dependency-dog-portlet,sample-test-dependency-easy-portlet,sample-test-dependency-fox-portlet,sample-test-hook-portlet,sample-test-portlet,sample-ui-taglibs-portlet,sample-wap-portlet,stocks-portlet,sun-bookmark-portlet,sun-elluminate-portlet,sun-flickr-portlet,sun-iframe-portlet,sun-mashup-portlet,sun-notepad-portlet,sun-photoshow-ajax-portlet,sun-privacy-guard-portlet,sun-rss-portlet,sun-showtime-portlet,sun-tour-ipc-portlet,sun-video-portlet,sun-weather-portlet,twitter-portlet,weather-portlet,web-form-portlet,westminster-catechism-portlet,widget-consumer-portlet,wiki-navigation-portlet,wol-portlet" />
		</antcall>

		<antcall target="run-tomcat-6.0">
			<param name="test.class" value="StagingTestSuite" />
		</antcall>

		<antcall target="stop-selenium" />
	</target>

	<target name="test-tomcat-6.0-mysql-5.0">
		<antcall target="prepare-mysql-5.0" />

		<antcall target="test-tomcat-6.0-common" />
	</target>

	<target name="test-tomcat-6.0-oracle-10">
		<antcall target="prepare-oracle-10" />

		<antcall target="test-tomcat-6.0-common" />
	</target>

	<target name="test-tomcat-6.0-postgresql-8.3">
		<antcall target="prepare-postgresql-8.3" />

		<antcall target="test-tomcat-6.0-common" />
	</target>

	<target name="test-tomcat-6.0-sql-server-2005">
		<antcall target="prepare-sql-server-2005" />

		<antcall target="test-tomcat-6.0-common" />
	</target>
</project>