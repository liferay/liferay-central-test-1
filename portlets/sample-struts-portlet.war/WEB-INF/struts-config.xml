<?xml version="1.0"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">

<struts-config>

	<!-- Forms Beans -->

	<form-beans>
		<form-bean name="subscribeForm" type="com.liferay.portlet.samplestrutsportlet.form.SubscribeForm" />
		<form-bean name="unsubscribeForm" type="com.liferay.portlet.samplestrutsportlet.form.UnsubscribeForm" />
		<form-bean name="uploadForm" type="com.liferay.portlet.samplestrutsportlet.form.UploadForm" />
	</form-beans>

	<!-- Action Mappings -->

	<action-mappings>

		<!-- Test Struts -->

		<action path="/sample_struts_portlet/edit" forward="portlet.sample_struts_portlet.edit" />

		<action path="/sample_struts_portlet/help" forward="portlet.sample_struts_portlet.help" />

		<action path="/sample_struts_portlet/action/subscribe" type="com.liferay.portlet.samplestrutsportlet.action.SubscribeAction" name="subscribeForm" scope="session" validate="true" input="portlet.sample_struts_portlet.subscribe">
			<forward name="/sample_struts_portlet/subscribe_success" path="/portlet_action/sample_struts_portlet/subscribe_success" redirect="true" />
		</action>

		<action path="/sample_struts_portlet/render/subscribe" type="com.liferay.portlet.samplestrutsportlet.render.SubscribeAction" name="subscribeForm" scope="session" validate="true" input="portlet.sample_struts_portlet.subscribe">
			<forward name="portlet.sample_struts_portlet.subscribe" path="portlet.sample_struts_portlet.subscribe" />
		</action>

		<action path="/sample_struts_portlet/subscribe_success" forward="portlet.sample_struts_portlet.subscribe_success" />

		<action path="/sample_struts_portlet/action/unsubscribe" type="com.liferay.portlet.samplestrutsportlet.action.UnsubscribeAction" name="unsubscribeForm" scope="session" validate="true" input="portlet.sample_struts_portlet.unsubscribe">
			<forward name="/sample_struts_portlet/unsubscribe_success" path="/portlet_action/sample_struts_portlet/unsubscribe_success" redirect="true" />
		</action>

		<action path="/sample_struts_portlet/render/unsubscribe" type="com.liferay.portlet.samplestrutsportlet.render.UnsubscribeAction" name="unsubscribeForm" scope="session" validate="true" input="portlet.sample_struts_portlet.unsubscribe">
			<forward name="portlet.sample_struts_portlet.unsubscribe" path="portlet.sample_struts_portlet.unsubscribe" />
		</action>

		<action path="/sample_struts_portlet/unsubscribe_success" forward="portlet.sample_struts_portlet.unsubscribe_success" />

		<action path="/sample_struts_portlet/action/upload" type="com.liferay.portlet.samplestrutsportlet.action.UploadAction" name="uploadForm" scope="session" validate="false">
			<forward name="/sample_struts_portlet/upload_success" path="/portlet_action/sample_struts_portlet/upload_success" redirect="true" />
		</action>

		<action path="/sample_struts_portlet/render/upload" type="com.liferay.portlet.samplestrutsportlet.render.UploadAction">
			<forward name="portlet.sample_struts_portlet.upload" path="portlet.sample_struts_portlet.upload" />
		</action>

		<action path="/sample_struts_portlet/upload_success" type="com.liferay.portlet.samplestrutsportlet.action.UploadSuccessAction">
			<forward name="portlet.sample_struts_portlet.upload_success" path="portlet.sample_struts_portlet.upload_success" />
		</action>

		<action path="/sample_struts_portlet/view" forward="portlet.sample_struts_portlet.view" />

		<action path="/sample_struts_portlet/view_chart" type="com.liferay.portlet.samplestrutsportlet.action.ViewChartAction">
			<forward name="/common/error.jsp" path="/common/error.jsp" />
			<forward name="/common/null.jsp" path="/common/null.jsp" />
		</action>

		<action path="/sample_struts_portlet/action/x" type="com.liferay.portlet.samplestrutsportlet.action.XAction">
			<exception key="error.sample.exception" type="com.liferay.portlet.samplestrutsportlet.SampleException" path="portlet.sample_struts_portlet.sample_exception" />
			<forward name="portlet.sample_struts_portlet.x" path="portlet.sample_struts_portlet.x" />
		</action>

		<action path="/sample_struts_portlet/render/x" type="com.liferay.portlet.samplestrutsportlet.render.XAction">
			<exception key="error.sample.exception" type="com.liferay.portlet.samplestrutsportlet.SampleException" path="portlet.sample_struts_portlet.sample_exception" />
			<forward name="portlet.sample_struts_portlet.x" path="portlet.sample_struts_portlet.x" />
		</action>

		<action path="/sample_struts_portlet/render/y" type="com.liferay.portlet.samplestrutsportlet.render.YAction">
			<forward name="portlet.sample_struts_portlet.y" path="portlet.sample_struts_portlet.y" />
		</action>

		<action path="/sample_struts_portlet/z" forward="portlet.sample_struts_portlet.z" />

		<action path="/sample_struts_portlet/z_with_sub_nav" forward="portlet.sample_struts_portlet.z_with_sub_nav" />
	</action-mappings>

	<!-- Custom Request Processor -->

	<controller processorClass="org.apache.portals.bridges.struts.PortletTilesRequestProcessor" />

	<!-- Message Resources -->

	<message-resources parameter="content.test.Language" />

	<!-- Tiles Plugin -->

	<plug-in className="org.apache.struts.tiles.TilesPlugin" >
		<set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
		<set-property property="moduleAware" value="true" />
		<set-property property="definitions-parser-validate" value="true" />
	</plug-in>

	<!-- Validator Plugin -->

	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml" />
	</plug-in>
</struts-config>