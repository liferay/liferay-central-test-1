<?xml version="1.0"?>

<custom-sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesEntryFinder.countByG_C_N">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				TagsEntry
			INNER JOIN
				TagsAssets_TagsEntries ON
					(TagsAssets_TagsEntries.entryId = TagsEntry.entryId) AND
					(TagsAssets_TagsEntries.assetId IN (
						SELECT
							assetId
						FROM
							TagsAsset
						WHERE
							(TagsAsset.groupId = ?) AND
							(TagsAsset.classNameId = ?)
					))
			WHERE
				(CategoriesEntry.name LIKE ? OR ? IS NULL)
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesEntryFinder.countByG_N_P">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				CategoriesEntry
			[$JOIN$]
			WHERE
				(CategoriesEntry.groupId = ?) AND
				(CategoriesEntry.name LIKE ? OR ? IS NULL)
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesEntryFinder.findByAssetId">
		<![CDATA[
			SELECT
				{CategoriesEntry.*}
			FROM
				CategoriesEntry
			INNER JOIN
				TagsAssets_TagsEntries ON
					(TagsAssets_TagsEntries.entryId = CategoriesEntry.entryId) AND
					(TagsAssets_TagsEntries.assetId = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesEntryFinder.findByG_N">
		<![CDATA[
			SELECT
				{CategoriesEntry.*}
			FROM
				CategoriesEntry
			WHERE
				(CategoriesEntry.groupId = ?) AND
				(lower(CategoriesEntry.name) = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesEntryFinder.findByG_C_N">
		<![CDATA[
			SELECT
				{CategoriesEntry.*}
			FROM
				CategoriesEntry
			INNER JOIN
				TagsAssets_TagsEntries ON
					(TagsAssets_TagsEntries.entryId = CategoriesEntry.entryId) AND
					(TagsAssets_TagsEntries.assetId IN (
						SELECT
							assetId
						FROM
							TagsAsset
						WHERE
							(TagsAsset.groupId = ?) AND
							(TagsAsset.classNameId = ?)
					))
			WHERE
				(CategoriesEntry.name LIKE ? OR ? IS NULL)
			ORDER BY
				CategoriesEntry.name ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesEntryFinder.findByG_N_P">
		<![CDATA[
			SELECT
				{CategoriesEntry.*}
			FROM
				CategoriesEntry
			[$JOIN$]
			WHERE
				(CategoriesEntry.groupId = ?) AND
				(CategoriesEntry.name LIKE ? OR ? IS NULL)
			ORDER BY
				CategoriesEntry.name ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesPropertyFinder.countByG_K">
		<![CDATA[
			SELECT
				COUNT(DISTINCT CategoriesProperty.value) AS COUNT_VALUE
			FROM
				CategoriesProperty
			INNER JOIN
				CategoriesEntry ON
					(CategoriesEntry.entryId = CategoriesProperty.entryId)
			WHERE
				(CategoriesEntry.groupId = ?) AND
				(CategoriesProperty.key_ = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesPropertyFinder.findByG_K">
		<![CDATA[
			SELECT
				DISTINCT CategoriesProperty.value AS propertyValue
			FROM
				CategoriesProperty
			INNER JOIN
				CategoriesEntry ON
					(CategoriesEntry.entryId = CategoriesProperty.entryId)
			WHERE
				(CategoriesEntry.groupId = ?) AND
				(CategoriesProperty.key_ = ?)
			ORDER BY
				CategoriesProperty.value ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesPropertyKeyFinder.countByGroupId">
		<![CDATA[
			SELECT
				COUNT(DISTINCT CategoriesProperty.key_) AS COUNT_VALUE
			FROM
				CategoriesProperty
			INNER JOIN
				CategoriesEntry ON
					(CategoriesEntry.entryId = CategoriesProperty.entryId)
			WHERE
				(CategoriesEntry.groupId = ?) AND
		]]>
	</sql>
	<sql id="com.liferay.portlet.categories.service.persistence.CategoriesPropertyKeyFinder.findByGroupId">
		<![CDATA[
			SELECT
				DISTINCT CategoriesProperty.key_ AS propertyKey
			FROM
				CategoriesProperty
			INNER JOIN
				CategoriesEntry ON
					(CategoriesEntry.entryId = CategoriesProperty.entryId)
			WHERE
				(CategoriesEntry.groupId = ?) AND
			ORDER BY
				propertyKey ASC
		]]>
	</sql>
</custom-sql>