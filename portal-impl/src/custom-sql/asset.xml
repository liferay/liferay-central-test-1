<?xml version="1.0"?>

<custom-sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetFinder.countByAndTagIds">
		<![CDATA[
			SELECT
				COUNT(DISTINCT Asset.assetId) AS COUNT_VALUE
			FROM
				Assets_AssetTags
			WHERE
				tagId = ? [$DATES$] AND assetId IN (
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetFinder.countByOrTagIds">
		<![CDATA[
			SELECT
				COUNT(DISTINCT Asset.assetId) AS COUNT_VALUE
			FROM
				Asset
			INNER JOIN
				Assets_AssetTags ON
					(Assets_AssetTags.assetId = Asset.assetId)
			INNER JOIN
				AssetTag ON
					(AssetTag.tagId = Assets_AssetTags.tagId)
			WHERE
				([$TAG_ID$]) [$NOT_TAG_ID$] [$DATES$]
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetFinder.findByAndTagIds">
		<![CDATA[
			SELECT
				DISTINCT Assets_AssetTags.assetId
			FROM
				Assets_AssetTags
			WHERE
				tagId = ?
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetFinder.findByOrTagIds">
		<![CDATA[
			SELECT
				DISTINCT {Asset.*}
			FROM
				Asset
			INNER JOIN
				Assets_AssetTags ON
					(Assets_AssetTags.assetId = Asset.assetId)
			INNER JOIN
				AssetTag ON
					(AssetTag.tagId = Assets_AssetTags.tagId)
			WHERE
				([$TAG_ID$]) [$NOT_TAG_ID$] [$DATES$]
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetFinder.findByViewCount">
		<![CDATA[
			SELECT
				DISTINCT {Asset.*}
			FROM
				Asset
			WHERE
				(Asset.classNameId = ?) AND
				(Asset.viewCount > 0)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetCategoryFinder.countByG_C_N">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				AssetCategory
			INNER JOIN
				Assets_AssetTags ON
					(Assets_AssetCategories.categoryId = AssetCategory.categoryId) AND
					(Assets_AssetCategories.assetId IN (
						SELECT
							assetId
						FROM
							Asset
						WHERE
							(Asset.groupId = ?) AND
							(Asset.classNameId = ?)
					))
			WHERE
				(AssetCategory.name LIKE ? OR ? IS NULL)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetCategoryFinder.countByG_N_P">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				AssetCategory
			[$JOIN$]
			WHERE
				(AssetCategory.groupId = ?) AND
				(AssetCategory.name LIKE ? OR ? IS NULL)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetCategoryFinder.findByAssetId">
		<![CDATA[
			SELECT
				{AssetCategory.*}
			FROM
				AssetCategory
			INNER JOIN
				Assets_AssetCategories ON
					(Assets_AssetCategories.categoryId = AssetCategory.categoryId) AND
					(Assets_AssetCategories.assetId = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetCategoryFinder.findByG_N">
		<![CDATA[
			SELECT
				{AssetCategory.*}
			FROM
				AssetCategory
			WHERE
				(AssetCategory.groupId = ?) AND
				(lower(AssetCategory.name) = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetCategoryFinder.findByG_N_P">
		<![CDATA[
			SELECT
				{AssetCategory.*}
			FROM
				AssetCategory
			[$JOIN$]
			WHERE
				(AssetCategory.groupId = ?) AND
				(AssetCategory.name LIKE ? OR ? IS NULL)
			ORDER BY
				AssetCategory.name ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetCategoryPropertyFinder.countByG_K">
		<![CDATA[
			SELECT
				COUNT(DISTINCT CategoriesProperty.value) AS COUNT_VALUE
			FROM
				CategoriesProperty
			INNER JOIN
				AssetCategory ON
					(AssetCategory.categoryId = CategoriesProperty.categoryId)
			WHERE
				(AssetCategory.groupId = ?) AND
				(CategoriesProperty.key_ = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetCategoryPropertyFinder.findByG_K">
		<![CDATA[
			SELECT
				DISTINCT CategoriesProperty.value AS propertyValue
			FROM
				CategoriesProperty
			INNER JOIN
				AssetCategory ON
					(AssetCategory.categoryId = AssetCategoryProperty.categoryId)
			WHERE
				(AssetCategory.groupId = ?) AND
				(AssetCategoryProperty.key_ = ?)
			ORDER BY
				AssetCategoryProperty.value ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagFinder.countByG_C_N">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				AssetTag
			INNER JOIN
				Assets_AssetTags ON
					(Assets_AssetTags.tagId = AssetTag.tagId) AND
					(Assets_AssetTags.assetId IN (
						SELECT
							assetId
						FROM
							Asset
						WHERE
							(Asset.groupId = ?) AND
							(Asset.classNameId = ?)
					))
			WHERE
				(AssetTag.name LIKE ? OR ? IS NULL)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagFinder.countByG_N_P">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				AssetTag
			[$JOIN$]
			WHERE
				(AssetTag.groupId = ?) AND
				(AssetTag.name LIKE ? OR ? IS NULL)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagFinder.findByAssetId">
		<![CDATA[
			SELECT
				{AssetTag.*}
			FROM
				AssetTag
			INNER JOIN
				Assets_AssetTags ON
					(Assets_AssetTags.tagId = AssetTag.tagId) AND
					(Assets_AssetTags.assetId = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagFinder.findByG_N">
		<![CDATA[
			SELECT
				{AssetTag.*}
			FROM
				AssetTag
			WHERE
				(AssetTag.groupId = ?) AND
				(lower(AssetTag.name) = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagFinder.findByG_C_N">
		<![CDATA[
			SELECT
				{AssetTag.*}
			FROM
				AssetTag
			INNER JOIN
				Assets_AssetTags ON
					(Assets_AssetTags.tagId = AssetTag.tagId) AND
					(Assets_AssetTags.assetId IN (
						SELECT
							assetId
						FROM
							Asset
						WHERE
							(Asset.groupId = ?) AND
							(Asset.classNameId = ?)
					))
			WHERE
				(AssetTag.name LIKE ? OR ? IS NULL)
			ORDER BY
				AssetTag.name ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagFinder.findByG_N_P">
		<![CDATA[
			SELECT
				{AssetTag.*}
			FROM
				AssetTag
			[$JOIN$]
			WHERE
				(AssetTag.groupId = ?) AND
				(AssetTag.name LIKE ? OR ? IS NULL)
			ORDER BY
				AssetTag.name ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagPropertyFinder.countByG_K">
		<![CDATA[
			SELECT
				COUNT(DISTINCT TagsProperty.value) AS COUNT_VALUE
			FROM
				TagsProperty
			INNER JOIN
				AssetTag ON
					(AssetTag.tagId = TagsProperty.tagId)
			WHERE
				(AssetTag.groupId = ?) AND
				(TagsProperty.key_ = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagPropertyFinder.findByG_K">
		<![CDATA[
			SELECT
				DISTINCT TagsProperty.value AS propertyValue
			FROM
				TagsProperty
			INNER JOIN
				AssetTag ON
					(AssetTag.tagId = TagsProperty.tagId)
			WHERE
				(AssetTag.groupId = ?) AND
				(TagsProperty.key_ = ?)
			ORDER BY
				TagsProperty.value ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagPropertyKeyFinder.countByGroupId">
		<![CDATA[
			SELECT
				COUNT(DISTINCT TagsProperty.key_) AS COUNT_VALUE
			FROM
				TagsProperty
			INNER JOIN
				AssetTag ON
					(AssetTag.tagId = TagsProperty.tagId)
			WHERE
				(AssetTag.groupId = ?) AND
		]]>
	</sql>
	<sql id="com.liferay.portlet.asset.service.persistence.AssetTagPropertyKeyFinder.findByGroupId">
		<![CDATA[
			SELECT
				DISTINCT TagsProperty.key_ AS propertyKey
			FROM
				TagsProperty
			INNER JOIN
				AssetTag ON
					(AssetTag.tagId = TagsProperty.tagId)
			WHERE
				(AssetTag.groupId = ?) AND
			ORDER BY
				propertyKey ASC
		]]>
	</sql>
</custom-sql>