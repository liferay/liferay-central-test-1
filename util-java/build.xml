<?xml version="1.0"?>

<project name="util-java" basedir="." default="compile">
	<import file="../build-common-java.xml" />

	<property name="deploy.dir" value="${app.server.lib.portal.dir}" />
	<property name="jar.file" value="${ant.project.name}" />

	<target name="jar" depends="compile">
		<antcall target="manifest" />

		<manifest file="classes/META-INF/MANIFEST.MF" mode="update">
			<attribute name="Bundle-Name" value="Liferay Util Java" />
			<attribute name="Bundle-SymbolicName" value="com.liferay.util.java;singleton:=true" />
		</manifest>

		<jar
			basedir="classes"
			jarfile="${jar.file}.jar"
			manifest="classes/META-INF/MANIFEST.MF"
		/>

		<copy file="${jar.file}.jar" todir="${portal-impl.classes.dir}/com/liferay/portal/deploy/dependencies" />
	</target>
</project>